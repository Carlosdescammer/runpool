@import "tailwindcss";

/* ------------------------------------------------------------------
   RunPool Dark Theme Tokens
-------------------------------------------------------------------*/
:root {
  --bg: #0d1220;          /* page background */
  --panel: #161b2e;       /* card background */
  --panel-2: #12172a;     /* secondary panel */
  --text: #e8ecff;        /* primary text */
  --muted: #9aa3b2;       /* muted text */
  --line: #273054;        /* borders */
  --success: #33d18f;     /* success green */
  --accent: #7aa2ff;      /* accent */
  --chip: #232a46;        /* chip background */
  --focus: #3d63ff88;     /* focus ring */
  --danger: #ff6b6b;      /* danger/error */
  --shadow: 0 10px 24px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.02);
  --radius: 16px;

  /* Back-compat aliases */
  --background: var(--bg);
  --foreground: var(--text);
  --brand: 122 162 255; /* accent as rgb for legacy focus rings */
  --brand-ink: #04140d;
  --ring: var(--focus);
  --stroke: var(--line);
}

/* ------------------------------------------------------------------
   Base
-------------------------------------------------------------------*/
html { -webkit-text-size-adjust: 100%; -webkit-tap-highlight-color: transparent; }
body {
  margin: 0;
  background: radial-gradient(1200px 600px at 10% -10%, #152043 0%, transparent 60%), var(--background);
  color: var(--foreground);
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
  padding-bottom: env(safe-area-inset-bottom);
}
input, select, textarea { font-size: 16px; }
button, a[role="button"], .btn { min-height: 44px; font-size: 16px; }
.wrap { max-width: 1050px; margin: 40px auto; padding: 0 20px; }

/* ------------------------------------------------------------------
   Shared Components (dark theme)
-------------------------------------------------------------------*/
.card {
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  border: 1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}
.card .inner { padding: 18px; }

.btn {
  border: 1px solid var(--line);
  background: var(--panel);
  color: var(--text);
  padding: 9px 14px;
  border-radius: 999px;
  cursor: pointer;
  box-shadow: var(--shadow);
  transition: transform .12s ease, background .2s ease, border-color .2s ease, box-shadow .12s ease;
}
.btn:hover { transform: translateY(-1px); border-color: #3b4b7a; }
.btn:focus-visible { outline: none; box-shadow: 0 0 0 4px var(--focus); }
.btn.success { background: linear-gradient(180deg, #39e19b, #22c67f); color: #06140e; border-color: transparent; }
.btn.ghost { background: transparent; }

.chip {
  display: inline-flex; align-items: center; gap: 8px;
  font-size: 12px; color: #cbd3e8;
  background: var(--chip); border: 1px solid var(--line);
  padding: 6px 10px; border-radius: 999px;
}
.chip .dot { width: 8px; height: 8px; border-radius: 999px; background: var(--accent); }
.chip.green .dot { background: var(--success); }

.leader-header { display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 10px; }
.list { display: flex; flex-direction: column; gap: 12px; margin-top: 8px; }
.row-item {
  display: flex; align-items: center; gap: 12px;
  background: #0f1427; border: 1px solid var(--line); border-radius: 12px; padding: 12px; min-height: 72px;
}
.ava {
  display: grid; place-items: center; width: 34px; height: 34px; border-radius: 999px;
  background: #1f2746; color: #fff; font-weight: 700; border: 1px solid #2a3560;
}
.who { flex: 1 1 auto; }
.who .name { font-weight: 700; }
.who .meta { color: var(--muted); font-size: 12px; margin-top: 2px; }

.progress {
  position: relative; width: 38%; min-width: 140px; height: 10px;
  border-radius: 999px; background: #0b1022; border: 1px solid #223159; overflow: hidden;
}
.bar {
  position: absolute; inset: 0; width: 0;
  background: linear-gradient(90deg, #2eeaa0, #18c77d 45%, #0fb66f);
  transition: width .45s cubic-bezier(.22,1,.36,1);
}
.pill {
  background: #102338; border: 1px solid #2a3860; color: #c8d3ee;
  padding: 6px 10px; border-radius: 999px; white-space: nowrap; font-size: 12px;
}

.switch {
  position: relative; width: 44px; height: 26px;
  background: #223052; border: 1px solid #36406a; border-radius: 999px; cursor: pointer; flex: 0 0 auto;
}
.switch span {
  position: absolute; top: 2px; left: 2px; width: 20px; height: 20px; background: #cfdaf6; border-radius: 50%; transition: left .18s ease;
}
.switch[data-on="true"] { background: #1fbf82; border-color: #1fbf82; }
.switch[data-on="true"] span { left: 22px; background: #0a241a; }

.iconbtn {
  display: inline-grid; place-items: center; width: 34px; height: 34px;
  border-radius: 999px; border: 1px solid var(--line); background: var(--panel);
  cursor: pointer; transition: transform .12s ease;
}
.iconbtn:hover { transform: translateY(-1px); }

.empty {
  text-align: center; padding: 30px 12px; color: #b5bed3;
  border: 1px dashed #2a3560; border-radius: 12px; background: #0f1426;
}

/* ------------------------------------------------------------------
   Enforcement Layer (scoped) – ensures our skin wins vs Tailwind
   Put `class="rp"` on <body>
-------------------------------------------------------------------*/

/* Cards */
.rp .card{
  background: linear-gradient(180deg, var(--panel), var(--panel-2)) !important;
  border: 1px solid var(--line) !important;
  border-radius: var(--radius) !important;
  box-shadow: var(--shadow) !important;
  padding: 18px !important;
}
.rp .card .inner{ padding: 18px !important; }

/* Buttons */
.rp .btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px;
  padding:9px 14px; min-height:44px; border-radius:999px; font-weight:700;
  border:1px solid var(--line); background: var(--panel); color: var(--text);
  box-shadow: var(--shadow);
  transition: transform .12s, box-shadow .12s, border-color .12s, background .2s;
}
.rp .btn:hover{ transform: translateY(-1px); border-color:#3b4b7a; box-shadow:0 8px 24px var(--focus) }

.rp .btn-primary{
  background: color-mix(in oklab, var(--accent) 92%, black 8%) !important;
  color:#04140d !important;
  border-color: transparent !important;
  box-shadow: 0 10px 30px var(--focus) !important;
}
.rp .btn-secondary{ background: var(--panel) !important; color: var(--text) !important; border-color: var(--line) !important; }
.rp .btn-ghost{ background: transparent !important; border-color: transparent !important; color: var(--text) !important; }
.rp .btn-destructive{ background: var(--danger) !important; color:#2b0a0a !important; border:0 !important; box-shadow:0 8px 24px rgba(255,107,107,.35) !important; }

/* Chips / pills (unify with .chip) */
.rp .pill,
.rp .chip{
  background: var(--chip) !important;
  border: 1px solid var(--line) !important;
  color: #cbd3e8 !important;
  border-radius: 999px; font-size: 12px; padding: 6px 10px;
}

/* Progress */
.rp .progress{
  position:relative; height:10px; border-radius:999px;
  background:#0b1022; border:1px solid #223159; overflow:hidden;
}
.rp .progress > span{
  position:absolute; inset:0; width:var(--pct,0%);
  background: linear-gradient(90deg, #2eeaa0, #18c77d 45%, #0fb66f);
}

/* Neutralize Tailwind bg/border utilities on these atoms only */
.rp .card[class*="bg-"], .rp .card[class*="border-"]{
  background: linear-gradient(180deg, var(--panel), var(--panel-2)) !important;
  border-color: var(--line) !important;
}
.rp .btn-primary[class*="bg-"]{
  background: color-mix(in oklab, var(--accent) 92%, black 8%) !important;
  color:#04140d !important;
}

/* ------------------------------------------------------------------
   Dashboard grid (optional helpers – only if you add these classes)
-------------------------------------------------------------------*/
.rp .dashboard-grid{
  display:grid; grid-template-columns:1.1fr 1fr; grid-auto-rows:min-content; gap:18px;
}
.rp .card--group{ grid-column:1; }
.rp .card--glance{ grid-column:2; }
.rp .card--submit{ grid-column:2; }
.rp .card--leader{ grid-column:1 / -1; }
@media (max-width:900px){
  .rp .dashboard-grid{ grid-template-columns:1fr; }
  .rp .card--group, .rp .card--glance, .rp .card--submit, .rp .card--leader{ grid-column:1; }
}
